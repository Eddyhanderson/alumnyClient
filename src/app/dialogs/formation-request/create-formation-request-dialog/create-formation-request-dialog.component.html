<div class="d-flex justify-content-between">
    <h2 mat-dialog-title>
        Nova Solicitação
    </h2>
    <button mat-icon-button>
        <mat-icon mat-dialog-close>
            close
        </mat-icon>
    </button>
</div>
<mat-dialog-content class="w-100 justify-content-center align-items-center d-flex m-0 flex-column">
    <div class="d-flex flex-column w-100" *ngIf="responsable; else loadingItems">
        <span>
            A solicitação será enviada para
        </span>
        <div class="mt-1 w-100 d-flex justify-content-start align-items-center">
            <div class="img-profile-xm mr-3" *ngIf="responsable && responsable.picture; else noPhoto">
                <img [src]="responsable.picture">
            </div>
            <div class="d-flex flex-column">
                <span class="bold-500"> {{responsable.firstName}} {{responsable.lastName}} </span>
                <div>
                    Responsável pela <span class="bold-500"> {{responsable.organName}}</span>
                </div>
            </div>
        </div>
        <ng-template #noPhoto>
            <div class="img-profile-xm-none mr-3">
                <div></div>
            </div>
        </ng-template>
    </div>
    <form class="w-100 h-100 mt-4">
        <div>
            <label>Mensagem para o superior</label>
            <mat-form-field class="w-100" color="accent">
                <textarea matInput cols="10" placeholder="Deixe alguma nota sobre a solicitação" cdkTextareaAutosize
                    #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="50"
                    [(ngModel)]="description" name="descriptionCtl" style="line-height: 1.3rem;"> </textarea>

            </mat-form-field>
        </div>
    </form>
</mat-dialog-content>
<div class="d-flex w-100 justify-content-center" mat-dialog-actions>
    <button mat-flat-button color="accent" (click)="onRequestFormation()" ngSubmit
        class="w-25 d-flex justify-content-center align-items-center" style="height: 2rem;" [disabled]="submited">
        <mat-spinner color="primary" diameter=20 *ngIf="submited"></mat-spinner>
        <span *ngIf="!submited">Enviar</span>
    </button>
</div>

<ng-template #loadingItems>
    <app-loading-item></app-loading-item>
</ng-template>